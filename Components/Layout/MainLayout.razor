@inherits LayoutComponentBase

<MudThemeProvider Theme="_theme" />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
    <MudAppBar Elevation="1" Color="Color.Primary">
        <MudIcon Icon="@Icons.Material.Filled.FoodBank" Class="mr-2" />
        <MudText Typo="Typo.h6">Food Inspector</MudText>
        <MudSpacer />
    </MudAppBar>

    <MudMainContent Class="pa-4" Style="padding-bottom: 80px !important;">
        @Body
    </MudMainContent>

    <MudAppBar Bottom="true" Elevation="2" Color="Color.Surface" Style="height: 64px;">
        <MudGrid Spacing="0" Justify="Justify.SpaceAround" Style="width: 100%;">
            <MudItem>
                <NavLink href="/" Match="NavLinkMatch.All" class="nav-link-item">
                    <MudStack AlignItems="AlignItems.Center" Spacing="0">
                        <MudIcon Icon="@Icons.Material.Filled.QrCodeScanner" />
                        <MudText Typo="Typo.caption">Scan</MudText>
                    </MudStack>
                </NavLink>
            </MudItem>
            <MudItem>
                <NavLink href="/history" class="nav-link-item">
                    <MudStack AlignItems="AlignItems.Center" Spacing="0">
                        <MudIcon Icon="@Icons.Material.Filled.History" />
                        <MudText Typo="Typo.caption">History</MudText>
                    </MudStack>
                </NavLink>
            </MudItem>
            <MudItem>
                <NavLink href="/cross-reactivity" class="nav-link-item">
                    <MudStack AlignItems="AlignItems.Center" Spacing="0">
                        <MudIcon Icon="@Icons.Material.Filled.Share" />
                        <MudText Typo="Typo.caption">Cross-React</MudText>
                    </MudStack>
                </NavLink>
            </MudItem>
            <MudItem>
                <NavLink href="/settings" class="nav-link-item">
                    <MudStack AlignItems="AlignItems.Center" Spacing="0">
                        <MudIcon Icon="@Icons.Material.Filled.Settings" />
                        <MudText Typo="Typo.caption">Settings</MudText>
                    </MudStack>
                </NavLink>
            </MudItem>
        </MudGrid>
    </MudAppBar>
</MudLayout>

@code {
    private readonly MudTheme _theme = new()
    {
        PaletteLight = new PaletteLight
        {
            Primary = "#7C3AED",
            PrimaryDarken = "#5B21B6",
            PrimaryLighten = "#A78BFA",
            Secondary = "#10B981",
            Tertiary = "#F59E0B",
            Info = "#3B82F6",
            Success = "#22C55E",
            Warning = "#F59E0B",
            Error = "#EF4444",
            AppbarBackground = "#7C3AED",
            AppbarText = "#FFFFFF",
            Background = "#F9FAFB",
            Surface = "#FFFFFF",
            DrawerBackground = "#FFFFFF",
            TextPrimary = "#1F2937",
            TextSecondary = "#6B7280"
        },
        Typography = new Typography
        {
            Default = new Default
            {
                FontFamily = new[] { "Roboto", "Helvetica", "Arial", "sans-serif" }
            }
        },
        LayoutProperties = new LayoutProperties
        {
            DefaultBorderRadius = "8px"
        }
    };
}

<style>
    .nav-link-item {
        text-decoration: none;
        color: var(--mud-palette-text-secondary);
        padding: 8px 16px;
        display: flex;
        flex-direction: column;
        align-items: center;
        transition: color 0.2s;
    }

    .nav-link-item:hover {
        color: var(--mud-palette-primary);
    }

    .nav-link-item.active {
        color: var(--mud-palette-primary);
    }
</style>
